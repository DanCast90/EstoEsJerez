<div class="p-3 mt-4 mx-auto">
    
        <div class="desc-container d-flex justify-content-center justify-content-md-between">
            <div class="child">
            <button class="btn btn-danger btn-custom mx-2" id="back">Regresar <i class="fa-solid fa-arrow-left"></i></button>
            </div>
            <div class="child">
                <h1 class="text-center">Administrador</h1>
            </div>
        </div>
   
    <div class="desc-container">
        <div class="container">
            <form id="myForm" enctype="multipart/form-data">
                <div class="row">
                    <div class="col-md-6 offset-md-6 mb-3">
                        <label for="photo" class="form-label">Foto</label>
                        <input type="file" class="form-control" id="photo" accept="image/*"
                            onchange="previewImage(event)">
                        <div class="text-center mt-2">
                            <img id="preview" class="preview-image" src="#" alt="Vista previa de la imagen">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="rfc" class="form-label">RFC</label>
                        <input type="text" class="form-control" id="rfc" placeholder="RFC" required>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="nombre" class="form-label">Nombre</label>
                        <input type="text" class="form-control" id="nombre" placeholder="Nombre" required>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="apellido1" class="form-label">Primer Apellido</label>
                        <input type="text" class="form-control" id="apellido1" placeholder="Apellido P." required>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="apellido2" class="form-label">Segundo Apellido</label>
                        <input type="text" class="form-control" id="apellido2" placeholder="Apellido M." required>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="telefono" class="form-label">Teléfono</label>
                        <input type="tel" class="form-control" id="telefono" placeholder="Telefono" required>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="username" class="form-label">Nombre de Usuario</label>
                        <input type="text" class="form-control" id="username" placeholder="Username" required>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="tipoUsuario" class="form-label">Tipo de Usuario</label>
                        <select class="form-select" id="tipoUsuario" required>
                            <option value="">Seleccionar</option>
                            <option value="1">Administrador</option>
                            <option value="2">Productor</option>
                            <option value="3">Artesano</option>
                            <option value="4">Prestador de Servicio</option>
                        </select>
                    </div>
                </div>
                <div class="form-check form-switch my-3">
                    <input class="form-check-input" type="checkbox" id="enableFields" onchange="toggleFields()" checked>
                    <label class="form-check-label" for="enableFields">Habilitar/Deshabilitar campos</label>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="password" class="form-label">Contraseña</label>
                        <input type="password" class="form-control" id="password" required>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="confirmPassword" class="form-label">Confirmar Contraseña</label>
                        <input type="password" class="form-control" id="confirmPassword" required>
                    </div>

                </div>
                <div class="text-center">
                    <button type="button" class="btn btn-danger btn-custom mx-2" id="btn-save">Guardar</button>
                </div>

            </form>
        </div>
    </div>
</div>
<div class="toast-container">
    <div class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-autohide="true"
      data-bs-delay="3000">
      <div class="toast-header">
        <strong class="me-auto" id="title-toast"></strong>
        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Cerrar"></button>
      </div>
      <div class="toast-body" id="content-toast">

      </div>
    </div>
  </div>

<script>
    
    
    idTesting = localStorage.getItem("id");
    if(idTesting!=0){
        loadAdmin();
    }
    


    function previewImage(event) {
        var reader = new FileReader();
        reader.onload = function () {
            var preview = document.getElementById('preview');
            preview.src = reader.result;
        }
        reader.readAsDataURL(event.target.files[0]);
    }

    function toggleFields() {
        var enableFields = document.getElementById("enableFields");
        var passwordField = document.getElementById("password");
        var confirmPasswordField = document.getElementById("confirmPassword");

        if (enableFields.checked) {
            passwordField.disabled = false;
            confirmPasswordField.disabled = false;
        } else {
            passwordField.disabled = true;
            confirmPasswordField.disabled = true;
        }
    }

    $("#btn-save").click(function(){
       saveAdmin();  
    });
    $("#back").click(function(){
        localStorage.setItem("id", 0);
        openViewA("admin","list",0);  
    });

</script>